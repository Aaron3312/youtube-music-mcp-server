runtime: "container"
build:
  dockerfile: "Dockerfile"
  dockerBuildPath: "."
environment:
  # OAuth credentials - set these in Smithery deployment settings
  GOOGLE_CLIENT_ID: "${GOOGLE_CLIENT_ID}"
  GOOGLE_CLIENT_SECRET: "${GOOGLE_CLIENT_SECRET}"
startCommand:
  type: "http"
  # OAuth configuration - no manual config needed!
  authentication:
    type: "oauth2"
    authorizationEndpoint: "/oauth/authorize"
    tokenEndpoint: "/oauth/token"
    refreshEndpoint: "/oauth/refresh"
    scopes:
      - "youtube"
    clientMetadata:
      client_name: "YouTube Music MCP Server"
      grant_types: ["authorization_code", "refresh_token"]
      response_types: ["code"]
      token_endpoint_auth_method: "client_secret_post"
  # No configSchema needed - OAuth handles everything!
  description: |
    YouTube Music MCP Server with OAuth authentication.

    On first use, you'll be prompted to authorize with Google.
    After authorization, the server handles token management automatically.

    No configuration or token copying required!

    **Setup Requirements:**
    Server owner must set these environment variables in Smithery:
    - GOOGLE_CLIENT_ID: Your Google OAuth client ID
    - GOOGLE_CLIENT_SECRET: Your Google OAuth client secret
